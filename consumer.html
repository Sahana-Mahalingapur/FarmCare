<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Farm Care | Fresh Produce</title>
  <link rel="stylesheet" href="consumer.css">
</head>

<body>

  <header>
    <h1>Welcome to Farm Care ğŸğŸ¥•</h1>
    <p>Buy fresh fruits and vegetables directly from local farmers!</p>

    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search for fruits or vegetables...">
      <button id="micBtn">ğŸ™</button>
      <button id="cameraBtn">ğŸ“·</button>

      <!-- View Cart Button -->
      <button id="viewCartBtn" style="
          background:white;
          border:2px solid #2d572c;
          color:#2d572c;
          padding:8px 18px;
          border-radius:25px;
          font-size:16px;
          font-weight:600;
          cursor:pointer;
          transition:0.3s;
          box-shadow:0 2px 5px rgba(0,0,0,0.2);
          margin-right: 15px; 
        " onmouseover="this.style.background='#2d572c'; this.style.color='white';"
        onmouseout="this.style.background='white'; this.style.color='#2d572c';">
        ğŸ›’ View Cart
      </button>

      <!-- Profile Dropdown -->
      <div style="position: relative; display: inline-block;">
        <div id="profileIcon" style="
            width: 45px;
            height: 45px;
            background: #2d572c;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            border: 2px solid white;
        ">
          ğŸ‘¤
        </div>

        <!-- Dropdown Menu -->
        <div id="profileMenu" style="
            display: none;
            position: absolute;
            right: 0;
            top: 55px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            width: 200px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            overflow: hidden;
            z-index: 1001;
            border: 1px solid rgba(0,0,0,0.05);
            animation: fadeIn 0.3s ease;
        ">
          <div style="padding: 15px; border-bottom: 1px solid #eee;">
            <p id="userNameDisplay" style="margin: 0; font-weight: bold; color: #2d572c;">User</p>
            <p style="margin: 0; font-size: 12px; color: #666;">Consumer</p>
          </div>
          <ul style="list-style: none; margin: 0; padding: 0;">
            <li>
              <button id="btnOrderHistory" style="
                  width: 100%;
                  text-align: left;
                  padding: 12px 15px;
                  background: none;
                  border: none;
                  cursor: pointer;
                  font-size: 14px;
                  color: #333;
                  transition: background 0.2s;
              " onmouseover="this.style.background='#f0f0f0'" onmouseout="this.style.background='transparent'">
                ğŸ“… Order History
              </button>
            </li>
            <li>
              <button id="btnLogout" style="
                  width: 100%;
                  text-align: left;
                  padding: 12px 15px;
                  background: none;
                  border: none;
                  cursor: pointer;
                  font-size: 14px;
                  color: #d9534f;
                  transition: background 0.2s;
              " onmouseover="this.style.background='#fff0f0'" onmouseout="this.style.background='transparent'">
                ğŸšª Logout
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <section>
    <h2>ğŸ‰ Fruits</h2>
    <div id="fruitsContainer" class="product-container"></div>
  </section>

  <section>
    <h2>ğŸ¥¦ Vegetables</h2>
    <div id="veggiesContainer" class="product-container"></div>
  </section>

  <section>
    <h2>ğŸ¥› Dairy & Others</h2>
    <div id="otherContainer" class="product-container"></div>
  </section>

  <!-- CART MODAL -->
  <div id="cartModal" style="
      display:none;
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.5);
      padding-top:80px;
      z-index:999;
  ">
    <div style="
        background:#ffffff;
        width:350px;
        margin:auto;
        padding:20px;
        border-radius:12px;
        color:#2d572c;
    ">
      <h2>Your Cart</h2>
      <div id="cartItems"></div>

      <button id="placeOrderBtn" style="
          width:100%;
          background:#2d572c;
          padding:12px;
          border:none;
          border-radius:12px;
          color:white;
          font-size:18px;
          font-weight:600;
          cursor:pointer;
          transition:0.3s;
          box-shadow:0 3px 8px rgba(0,0,0,0.3);
      " onmouseover="this.style.background='#3d7a3d'" onmouseout="this.style.background='#2d572c'">
        âœ” Place Order
      </button>

      <button id="closeCart" style="
          width:100%;
          background:#888;
          padding:10px;
          border:none;
          border-radius:10px;
          color:white;
          margin-top:10px;
          cursor:pointer;
      ">
        Close
      </button>
    </div>
  </div>

  <!-- BEAUTIFUL ADDED TO CART POPUP -->
  <div id="popupMsg" style="
      display:none;
      position:fixed;
      top:20px;
      right:20px;
      background:white;
      padding:15px 20px;
      border-radius:10px;
      box-shadow:0 4px 10px rgba(00,0,0,0.3);
      color:#2d572c;
      font-family:Poppins;
      z-index:1000;
  ">
    <h3 style="margin:0; font-size:18px;">Added to Cart ğŸ›’</h3>
    <p id="popupText" style="margin:5px 0 0;"></p>
  </div>

  <!-- QUANTITY MODAL -->
  <div id="qtyModal" style="
      display:none;
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.5);
      padding-top:120px;
      z-index:2000;
  ">
    <div style="
        background:white;
        width:320px;
        margin:auto;
        padding:20px;
        border-radius:12px;
        text-align:center;
        color:#2d572c;
        box-shadow:0 4px 12px rgba(0,0,0,0.3);
    ">
      <h2>Enter Quantity</h2>

      <input id="qtyInput" type="number" placeholder="Enter kg or dozen" min="1" style="
          width:90%;
          padding:10px;
          margin-top:10px;
          border-radius:8px;
          border:2px solid #2d572c;
          font-size:16px;
      ">

      <button id="qtyOkBtn" style="
          width:100%;
          background:#2d572c;
          color:white;
          border:none;
          padding:10px;
          margin-top:15px;
          border-radius:10px;
          font-size:16px;
          cursor:pointer;
      ">OK âœ”</button>

      <button id="qtyCancelBtn" style="
          width:100%;
          background:#888;
          color:white;
          border:none;
          padding:10px;
          margin-top:10px;
          border-radius:10px;
          font-size:16px;
          cursor:pointer;
      ">Cancel âœ–</button>
    </div>
  </div>

  <footer>
    <p>Â© 2025 Farm Care | Eat Healthy, Stay Fresh</p>
  </footer>

  <script src="product.js"></script>
  <!-- ORDER HISTORY MODAL -->
  <div id="historyModal" style="
      display:none;
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.5);
      padding-top:60px;
      z-index:2100;
      backdrop-filter: blur(3px);
  ">
    <div style="
        background:white;
        width:90%;
        max-width: 600px;
        margin:auto;
        padding:25px;
        border-radius:16px;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        position: relative;
    ">
      <button id="closeHistory" style="
          position: absolute;
          top: 15px;
          right: 15px;
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #666;
      ">âœ–</button>

      <h2 style="color: #2d572c; margin-top: 0;">Previous Orders ğŸ“¦</h2>
      <p style="color: #666; font-size: 14px; margin-bottom: 20px;">Your payment history and past purchases.</p>

      <div id="orderHistoryContent">
        <!-- Content will be injected here -->
        <p style="text-align: center; color: #888;">Loading history...</p>
      </div>

    </div>
  </div>

  <script src="profile.js"></script>
  <script src="cart.js"></script>

</body>

</html>